<div class="container mt-5">
  <h1 class="text-center mb-4">üõ°Ô∏è SentinelStream Live Dashboard</h1>

  <!-- Transaction Form -->
  <div class="mb-5">
    <app-transaction-form></app-transaction-form>
  </div>

  <!-- Stats Cards -->
  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card text-white bg-success mb-3">
        <div class="card-header">‚úÖ Safe Transactions</div>
        <div class="card-body">
          <h1 class="display-4">{{ stats.safe }}</h1>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-danger mb-3">
        <div class="card-header">üö® Fraud Detected</div>
        <div class="card-body">
          <h1 class="display-4">{{ stats.fraud }}</h1>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-warning mb-3">
        <div class="card-header">‚è≥ Pending</div>
        <div class="card-body">
          <h1 class="display-4">{{ stats.pending }}</h1>
        </div>
      </div>
    </div>
  </div>

  <!-- Live Table -->
  <h3>Live Transaction Feed</h3>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="table-dark">
        <tr>
          <th>User</th>
          <th>Amount</th>
          <th>Currency</th>
          <th>Location</th>
          <th>Merchant</th>
          <th>AI Analysis</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let txn of transactions" 
            [ngClass]="{
              'table-danger': txn.status === 'REJECTED', 
              'table-success': txn.status === 'APPROVED',
              'table-warning': txn.status === 'PENDING'
            }">
          <td>{{ txn.userId }}</td>
          <td>${{ txn.amount }}</td>
          <td>{{ txn.currency }}</td>
          <td>{{ txn.location }}</td>
          <td>{{ txn.merchant }}</td>
          <td><small>{{ txn.aiAnalysis }}</small></td>
          <td><strong>{{ txn.status }}</strong></td>
        </tr>
        <tr *ngIf="transactions.length === 0">
          <td colspan="7" class="text-center text-muted">Waiting for transactions...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>